<!DOCTYPE html>
<!-- This is an autogenerated file - DO NOT EDIT DIRECTLY -->
<!-- This file was generated on Sat May 08 2021 01:14:49 GMT-0700 (Pacific Daylight Time) via the forge in willcarh.art v2.1.0-->
<!-- Learn more: https://github.com/wcarhart/willcarh.art -->
<!-- THIS IS A DEVELOPMENT BUILD, PROCEED WITH CAUTION! -->
<html lang="en">
	<head>
		<!-- metadata -->
		<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>willcarh.art</title>
<meta name="description" content="The Easy Way to Add Dark Mode to Your Website" />
<meta name="twitter:card" value="summary" />
<meta property="og:name" content="willcarh.art" />
<meta property="og:url" content="https://willcarh.art/blog/the-easy-way-to-add-dark-mode-to-your-website" />
<meta property="og:image" content="../../ico/android-chrome-512x512.png" />
<meta property="og:type" content="website" />
<meta property="og:description" content="The Easy Way to Add Dark Mode to Your Website" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="willcarh.art" />

		<!-- CSS -->
		<link rel="stylesheet" href="../../css/common.css">
		<link rel="stylesheet" href="../../css/logo.css">
		<link rel="stylesheet" href="../../css/darkmode.css">
		<link rel="stylesheet" href="../../css/fancylink.css">
		<link rel="stylesheet" href="../../css/linkicons.css">
		<link rel="stylesheet" href="../../css/list.css">
		<link rel="stylesheet" href="../../css/markdown.css">
		<link rel="stylesheet" href="../../css/credits.css">
		<link rel="stylesheet" href="../../css/blog_specific.css">

		<!-- jQuery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

		<!-- Bootstrap CDN -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

		<!-- icons -->
		<link rel="apple-touch-icon" sizes="180x180" href="../../ico/apple-touch-icon.png">
	    <link rel="icon" type="image/png" sizes="32x32" href="../../ico/favicon-32x32.png">
	    <link rel="icon" type="image/png" sizes="16x16" href="../../ico/favicon-16x16.png">
	    <link rel="manifest" href="../../ico/site.webmanifest">

	    <!-- FontAwesome -->
	    <script src="https://use.fontawesome.com/releases/v5.5.0/js/all.js"></script>

		<!-- animate.css -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

		<!-- site analytics -->
		<script async defer data-domain="willcarh.art" src="https://plausible.io/js/plausible.js"></script>

		<!-- willcarh.art scripts -->
		<script src="../js/darkmode.js"></script>
		<script src="../js/year.js"></script>
		<script src="../js/epochtime.js"></script>
		<script src="../js/readtime.js"></script>
		<script src="../js/blognav.js"></script>
	</head>
	<body>
		<!-- text content -->
		<div id="content-main">
			<div class="spacer"></div>
			<div id="content-body">
				<div id="word-count" class="hidden-tidbit">1118</div>
<div id="read-time" class="hidden-tidbit">6 min read</div>
<div id="next-blog-link" class="hidden-tidbit">how-to-summarize-any-article-in-7-sentences-with-software</div>
<div id="blog-title-container" class="animate__animated animated_faster animate__fadeInUp animate__delay-1s">
	<h1 id="blog-title">The Easy Way to Add Dark Mode to your Website</h1>
	<h3 id="blog-subtitle">Kill the lights, yo</h3>
</div>
<div id="blog-credits" class="animate__animated animated_faster animate__fadeInUp animate__delay-2s">
	<div class="row justify-content-center">
		<div id="blog-author-img-container">
			<img id="blog-author-img" alt="author profile image" src="https://storage.googleapis.com/willcarh-art/img/profile.jpg">
		</div>
		<div id="blog-credits-details">
			<h5 id="blog-author">Will Carhart</h5>
			<p class="blog-metadata epochtime-hover">Published on November 3rd, 2020 at 9:36 PM PST</p>
			<p class="blog-metadata epochtime-hover"></p>
			<p class="blog-metadata readtime-hover"><span class="color">6 min read</span></p>
		</div>
	</div>
</div>
<div id="blog-cover-container" class="animate__animated animated_faster animate__fadeIn animate__delay-4s">
	<img id="blog-cover" alt="The Easy Way to Add Dark Mode to your Website cover image" src="https://storage.googleapis.com/willcarh-art/img/blog/the-easy-way-to-add-dark-mode-to-your-website/cover.jpg">
</div>

<div id="blog-content-container" class="blog-border animate__animated animated_faster animate__fadeIn animate__delay-4s">
    <div class="shoutout">
	<p class="shoutout-title"><b>Heads Up!</b></p>
	<p class="shoutout-text">You can find the completed sample code in <a class="fancy-link" href="https://jsfiddle.net/wcarhart/kzgr1tja/40/" target="_blank">this JSFiddle</a> or <a class="fancy-link" href="https://github.com/wcarhart/willcarh.art-snippets/tree/master/the-easy-way-to-add-dark-mode-to-your-website" target="_blank">this repository</a> if you'd like to follow along.</p>
</div><br><br><h4 class="content-subtitle">Everyone's doing it</h4><p class="content-text">2019 began <a class="fancy-link" href="https://www.theverge.com/2019/3/15/18261967/dark-mode-battery-saving-feature-apps-os-platforms-developments" target="_blank">the year of dark mode</a> as most software companies jumped on the trend. Now you can find many different apps with dark mode available: Gmail, GitHub, Stack Overflow, even iOS. Being the trendy developers we are, let's come up with an easy way to implement dark mode on our websites with just a little bit of CSS, HTML, and jQuery.</p><br><h4 class="content-subtitle">Using CSS variables</h4><p class="content-text">First, let's pick a color scheme and keep track of it with standard CSS. If you use <a class="fancy-link" href="https://sass-lang.com/" target="_blank">Sass</a> or <a class="fancy-link" href="http://lesscss.org/" target="_blank">Less</a> the concept is the same. You can steal mine from my <a class="fancy-link" href="../etc.html">etc</a> page if you'd like. I usually have 4-5 colors in my scheme, but you can choose as many as you like.</p><p class="content-text">We'll need to pick colors for <i>light mode</i> and <i>dark mode</i>. Create a new file <code class="inline-code">style.css</code> for our styling. Set your variables for <i>light mode</i> in <code class="inline-code">:root</code> and <i>dark mode</i> in <code class="inline-code">:root.dark-mode</code>. This will make it super easy to switch between them.</p><pre class="code-container"><code class="block-code">:root {<br>    --background: #ecf0f1;<br>    --detail: #bdc3c7;<br>    --color: #e67e22;<br>    --text: #252323;<br>}<br>:root.dark-mode {<br>    --background: #292929;<br>    --detail: #34495e;<br>    --color: #6642ac;<br>    --text: #ecf0f1;<br>}</code></pre><p class="content-text">Next, let's add an HTML skeleton in a new file called <code class="inline-code">index.html</code> to display our color scheme.</p><pre class="code-container"><code class="block-code">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>    &lt;head&gt;&lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;h1&gt;Dark Mode Test&lt;/h1&gt;<br>        &lt;p&gt;This is a test of our new &lt;span class="color-text"&gt;dark mode&lt;/span&gt;!&lt;/p&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;</code></pre><p class="content-text">And, let's style our HTML according to our color scheme.</p><pre class="code-container"><code class="block-code">body {<br>    color: var(--text);<br>    background-color: var(--background);<br>}<br>.color-text {<br>    color: var(--color);<br>}</code></pre><p class="content-text">Now, try adding the class <code class="inline-code">dark-mode</code> to the parent-most <code class="inline-code">&lt;html&gt;</code> tag. When we add the <code class="inline-code">dark-mode</code> class, our site switches to dark mode!</p><div class="shoutout">
	<p class="shoutout-title"><b>Note</b></p>
	<p class="shoutout-text">If for whatever reason you aren't able to target the outermost <code class="inline-code">&lt;html&gt;</code> tag, you can also target the <code class="inline-code">&lt;body&gt;</code> tag, which may make sense for some websites. To do this, place your CSS color variables in <code class="inline-code">body</code> and <code class="inline-code">body.dark-mode</code> instead of <code class="inline-code">:root</code> and <code class="inline-code">:root.dark-mode</code>. Don't forget to update the JavaScipt down below, too.</p>
</div><br><br><h4 class="content-subtitle">Adding the toggle</h4><p class="content-text">Next, let's add a button to toggle dark mode on and off. I'm going to use <a class="fancy-link" href="https://fontawesome.com/icons/lightbulb?style=solid" target="_blank">this icon</a> from <a class="fancy-link" href="https://fontawesome.com/" target="_blank">FontAwesome</a>. Let's update our HTML with this new button.</p><pre class="code-container"><code class="block-code">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>    &lt;head&gt;<br>      &lt;script src="https://use.fontawesome.com/releases/v5.5.0/js/all.js"&gt;&lt;/script&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;h1&gt;Dark Mode Test&lt;/h1&gt;<br>        &lt;p&gt;This is a test of our new &lt;span class="color-text"&gt;dark mode!&lt;/span&gt;&lt;/p&gt;<br>        &lt;i id="dark-mode-toggle" class="fas fa-lightbulb"&gt;&lt;/i&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;</code></pre><p class="content-text">Let's style our button as well.</p><pre class="code-container"><code class="block-code">#dark-mode-toggle {<br>    position: fixed;<br>    top: 1.5rem;<br>    right: 1.5rem;<br>}<br>#dark-mode-toggle:hover {<br>    cursor: pointer;<br>}</code></pre><p class="content-text">Note that we'll have to include an external script for FontAwesome to access the icon.</p><br><h4 class="content-subtitle">Wiring it together</h4><p class="content-text">Who said <a class="fancy-link" href="https://jquery.com/" target="_blank">jQuery</a> was going out of style? Let's use a little bit of jQuery to wire up our dark mode toggle button in a new file <code class="inline-code">darkmode.js</code>.</p><pre class="code-container"><code class="block-code">&#36;(document).ready(async () =&gt; {<br>    &#36;('#dark-mode-toggle').click(async () =&gt; {<br>        &#36;('html').toggleClass('dark-mode')<br>    })<br>})</code></pre><p class="content-text">Don't forget to include the jQuery and <code class="inline-code">darkmode.js</code> scripts in your <code class="inline-code">&lt;head&gt;</code> tag.</p><pre class="code-container"><code class="block-code">&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"&gt;&lt;/script&gt;<br>&lt;script src="darkmode.js"&gt;&lt;/script&gt;</code></pre><p class="content-text">Now you can click the lightbulb button to toggle dark mode! Notice how the lightbulb icon turns on and off interactively. This is because we're using an <code class="inline-code">&lt;i&gt;</code> tag for the icon, which means our CSS property <code class="inline-code">color</code> affects it!</p><p class="content-text">This code is really easy to understand. Whenever the user clicks on our <code class="inline-code">#dark-mode-toggle</code> button, we toggle the <code class="inline-code">dark-mode</code> class on our HTML, which in turn toggles the dark mode.</p><br><h4 class="content-subtitle">Making it persistent</h4><p class="content-text">This is a great start. However, what happens if the user navigates to a new page on our website? They'd have to toggle dark mode every time they navigate to a new route, which isn't great UX, especially if their eyes were used to dark mode being active.</p><p class="content-text">Let's use the <a class="fancy-link" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank"><code class="inline-code">localStorage</code> API</a> to persist the user's dark mode preference. This means that once the user toggles dark mode, it will persist between page navigations, reloads, and even leaving the site. Let's revamp our jQuery.</p><pre class="code-container"><code class="block-code">// initialize dark mode<br>(async () =&gt; {<br>    let update = false<br>    if (localStorage.getItem('darkMode') === 'true') {<br>        if (!&#36;('html').hasClass('dark-mode')) {<br>            update = true<br>        }<br>    } else {<br>        if (&#36;('html').hasClass('dark-mode')) {<br>            update = true<br>        }<br>        localStorage.setItem('darkMode', 'false')<br>    }<br><br>    if (update === true) {<br>        &#36;('html').toggleClass('dark-mode')<br>    }<br>})();<br><br>// toggle dark mode<br>&#36;(document).ready(async () =&gt; {<br>    &#36;('#dark-mode-toggle').click(async () =&gt; {<br>        if (localStorage.getItem('darkMode') === 'true') {<br>            localStorage.setItem('darkMode', 'false')<br>        } else {<br>            localStorage.setItem('darkMode', 'true')<br>        }<br>        &#36;('html').toggleClass('dark-mode')<br>    })<br>})</code></pre><p class="content-text">There are two parts to this code. <i>First</i>, we initialize the property <code class="inline-code">darkMode</code> in the browser using JavaScript's <code class="inline-code">localStorage</code> functionality. Once the property is initialized, we can read from it to set the dark mode state. <i>Second</i>, we wire up the dark mode toggle button to read from and update the <code class="inline-code">darkMode</code> property. Now the user's preference is persistent as long as they don't clear their cookies!</p><div class="shoutout">
	<p class="shoutout-title"><b>Hold up!</b></p>
	<p class="shoutout-text"><b class="bold-text">If I use <code class="inline-code">localStorage</code>, do I need to show one of those annoying cookie notifications on my website?</b><br>Nope! Cookie notifications are generally for tracking users, not simply using <code class="inline-code">localStorage</code>. Read more <a class="fancy-link" href="https://law.stackexchange.com/a/30766/8708" target="_blank">here</a> (IANAL, YMMV).</p>
</div><br><br><h4 class="content-subtitle">Conclusion</h4><p class="content-text">With a few simple steps, we have a robust way of implementing dark mode for any website. You can access the full code from this post in <a class="fancy-link" href="https://jsfiddle.net/wcarhart/kzgr1tja/40/" target="_blank">this JSFiddle</a> or <a class="fancy-link" href="https://github.com/wcarhart/willcarh.art-snippets/tree/master/the-easy-way-to-add-dark-mode-to-your-website" target="_blank">this repository</a>. The content of this tutorial is almost verbatim what I use for <a class="fancy-link" href="../../index.html">willcarh.art</a>. If you'd like to see it in action, click the icon in the top right of the webpage, check out its <a class="fancy-link" href="https://github.com/wcarhart/willcarh.art" target="_blank">repository</a>, or simply press <code class="inline-code">⌘+i</code> or <code class="inline-code">Ctrl+i</code>.</p><br><p class="content-text centered-text">🦉</p>
</div>
<div class="animate__animated animated_faster animate__fadeIn animate__delay-4s">
	<p id="cover-credit">Artwork by <a class="fancy-link" href="https://stock.adobe.com/contributor/202816684/thanawong" target="_blank">thanawong</a></p>
</div>
<div id="blog-navigation-container" class="animate__animated animated_faster animate__fadeIn animate__delay-4s">
	<div class="row">
		<div class="col-md-1"></div>
		<div id="blog-navigation-back" class="col-md-4 blog-navigation-chunk">
			<h3><span class="show-more">⟵</span> Back</h3>
			<p class="navigation-detail-text content-text">Go back to the blog</p>
		</div>
		<div class="col-md-2"></div>
		<div id="blog-navigation-next" class="col-md-4 blog-navigation-chunk">
			<h3>Read More <span class="show-more">⟶</span></h3>
			<p class="navigation-detail-text content-text">How to Summarize Any Article in 7 Sentences, with Software</p>
		</div>
		<div class="col-md-1"></div>
	</div>
</div>
<div class="spacer-small"></div>
			</div>
			<div class="spacer"></div>

			<div id="credits" class="row">
	<a id="footer-github-icon" href="https://github.com/wcarhart" target="_blank"><i class="fab fa-github"></i></a>
	<a id="footer-stackoverflow-icon" href="https://stackoverflow.com/users/6246128/wcarhart" target="_blank"><i class="fab fa-stack-overflow" data-fa-transform="left-2"></i></a>
	<a id="footer-linkedin-icon" href="https://linkedin.com/in/willcarhart" target="_blank"><i class="fab fa-linkedin" data-fa-transform="left-2"></i></a>
	<a id="footer-facebook-icon" href="../blog/why-i-deleted-my-facebook.html"><i class="fab fa-facebook-f" data-fa-transform="left-4"></i></a>
	<div style="text-align:center"><a class="fancy-link" href="../etc.html#license">&copy;&nbsp; Will Carhart <span id="year"></span></a></div>
</div>
			<div class="spacer-small"></div>
		</div>

		<!-- logo -->
		<a id="logo-container" href="../../index.html">
	<img id="logo" alt="willcarh.art logo" src="../../ico/android-chrome-512x512.png">
</a>

		<!-- dark mode toggle -->
		<div id="dark-mode-toggle-container">
	<button id="dark-mode-toggle"></button>
</div>
	</body>
</html>