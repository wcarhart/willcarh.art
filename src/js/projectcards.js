// This is an autogenerated file - DO NOT EDIT DIRECTLY
// This file was generated on Wed Nov 25 2020 12:16:41 GMT-0700 (Mountain Standard Time) via the forge in willcarh.art v2.0.0
// Learn more: https://github.com/wcarhart/willcarh.art

// handle hover and click for project cards
$(document).ready(async () => {

	// TODO: why does this fail when doing hard refresh
	await resize()
	// TODO: fix this garbage
	$(window).resize(async () => { 
		await resize()
	})

	// handle animations for hover
	$('.project-border').hover(async function() {
		const id = `#title-${this.id.replace('proj-', '')}`
		$(id).css('background-size', '100% 0.125rem')
		$(this).css('cursor', 'pointer')
	}, async function() {
		const id = `#title-${this.id.replace('proj-', '')}`
		$(id).css('background-size', '0% 0.125rem')
	})

	// TODO
	// handle click to specific project
	$('.project-border').click(async function() {
		console.log(this.id)
	})
})

const resize = async () => {
	// calculate dynamic row heights
	let miniTopHeight = 0
	let miniBottomHeight = 0
	for (let el of $('.proj-mini-top')) {
		if ($(el).height() > miniTopHeight) {
			miniTopHeight = $(el).height()
		}
	}
	for (let el of $('.proj-mini-bottom')) {
		if ($(el).height() > miniBottomHeight) {
			miniBottomHeight = $(el).height()
		}
	}

	// update row heights
	for (let el of $('.proj-mini-top')) {
		$(el).height(miniTopHeight)
	}
	for (let el of $('.proj-mini-bottom')) {
		$(el).height(miniBottomHeight)
	}
	// spacer small is 2rem, and 1rem = 16px - need to add 4.5rem (72px) for spacing
	$('.proj-main').height(miniTopHeight + 72 + miniBottomHeight)
	$('.proj-main').css('padding-top', '2rem')
}
